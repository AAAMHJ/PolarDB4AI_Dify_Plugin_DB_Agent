identity:
  name: polardb4ai_nl2chart
  author: polardb4ai
  label:
    en_US: polardb4ai_nl2chart
    zh_Hans: 智能图表
description:
    human:
        en_US: Automatically convert SQL results into dynamic visualization reports such as bar charts, pie charts, and line charts to help users understand and analyze data more efficiently
        zh_Hans: 自动将SQL结果转化为柱状图/饼图/折线图等动态可视化报表，帮助用户更高效地理解和分析数据
    llm:
        Automatically convert SQL results into dynamic visualization reports such as bar charts, pie charts, and line charts to help users understand and analyze data more efficiently
parameters:
    - name: img_t
      type: select
      required: true
      label:
          en_US: Image Type Selection
          zh_Hans: 图片类型选择
      human_description:
          en_US: Please select the chart type (line chart, bar chart, pie chart) or model understanding priority.
          zh_Hans: 请选择折线图、柱状图、饼状图或模型理解优先
      llm_description: 
          This parameter determines the type of image to be generated. Options include line charts, bar charts, pie charts, or letting the model decide based on context.
      form: form
      options:
          - value: model
            label:
              en_US: Model Understanding Priority
              zh_Hans: 模型理解优先
          - value: bar
            label:
              en_US: Bar Chart
              zh_Hans: 柱状图
          - value: line
            label:
              en_US: Line Chart
              zh_Hans: 折线图
          - value: pie
            label:
              en_US: Pie Chart
              zh_Hans: 饼状图

    # 数据库连接参数
    - name: polardb_host
      type: string
      required: true
      label:
          en_US: Database Host
          zh_Hans: 数据库主机
      human_description:
          en_US: The hostname or IP address of the MySQL database server.
          zh_Hans: MySQL 数据库服务器的主机名或 IP 地址。
      llm_description: The hostname/IP of the MySQL server (e.g., 'localhost' or '192.168.1.100').
      form: form

    - name: polardb_port
      type: string
      required: true
      label:
          en_US: Port
          zh_Hans: 端口
      human_description:
          en_US: Port number to connect to the database (default is 3306).
          zh_Hans: 数据库连接端口（默认为 3306）。
      llm_description: Port number for database connection (default 3306).
      form: form

    - name: polardb_user
      type: string
      required: true
      label:
          en_US: Username
          zh_Hans: 用户名
      human_description:
          en_US: Username for authenticating to the database.
          zh_Hans: 连接数据库的用户名。
      llm_description: Username to access the MySQL database.
      form: form

    - name: polardb_password
      type: string
      required: true
      label:
          en_US: Password
          zh_Hans: 密码
      human_description:
          en_US: Password for the database user.
          zh_Hans: 数据库用户的密码。
      llm_description: Password for the database user (do not expose in logs).
      form: form

    - name: polardb_database
      type: string
      required: true
      label:
          en_US: Database Name
          zh_Hans: 数据库名称
      human_description:
          en_US: Name of the database to connect to.
          zh_Hans: 要连接的数据库名称。
      llm_description: Name of the target database (e.g., 'mydb').
      form: form

    - name: question
      type: string
      required: true
      label:
          en_US: question
          zh_Hans: 问题
      human_description:
          en_US: question.
          zh_Hans: 用户问题。
      llm_description: question
      form: llm  

    - name: sql_by_nl2sql
      type: string
      required: true
      label:
          en_US: SQL generated by NL2SQL module
          zh_Hans: 由NL2SQL模块生成的SQL语句
      human_description:
          en_US: None
          zh_Hans: 由NL2SQL模块生成的SQL语句。
      llm_description: SQL generated by NL2SQL module
      form: llm
extra:
    python:
        source: tools/polardb4ai_nl2chart.py
